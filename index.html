<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment Progress Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Simple icons
        const CheckCircle = ({className}) => React.createElement('div', {className: `${className} text-green-600`}, '✓');
        const Circle = ({className}) => React.createElement('div', {className: `${className} text-gray-400`}, '○');
        const Clock = ({className}) => React.createElement('div', {className: `${className} text-blue-600`}, '⏰');

        const ProgressTracker = () => {
            const [expandedEpics, setExpandedEpics] = React.useState({});
            const [epics, setEpics] = React.useState([
                {
                    id: 'epic-001',
                    number: 'Enrollment-001',
                    name: 'AccountCreation',
                    description: 'Enable secure client onboarding and access management',
                    journey: 'REGISTER',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - Consolidated into single feature document',
                    mvp1Features: [{
                        number: 'Enrollment-001.001',
                        name: 'GuidedOnboardingAccess',
                        description: 'Account creation, login with unique ID, organization pre-population',
                        stories: 25,
                        status: 'completed',
                        notes: 'Consolidated with 001.002 into single comprehensive feature document'
                    }],
                    mvp2Features: []
                },
                {
                    id: 'epic-002',
                    number: 'Enrollment-002',
                    name: 'AccountManagement',
                    description: 'Enable clients to manage their account data and account lifecycle',
                    journey: 'REGISTER',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - Data retention updated from 7 days to 30 days',
                    mvp1Features: [{
                        number: 'Enrollment-002.001',
                        name: 'DataTransparencyRetentionPurging',
                        description: 'Account deletion, data retention (30 days), and purging compliance',
                        stories: 15,
                        status: 'completed',
                        notes: 'Updated: Data retention changed from 7 days to 30 days'
                    }],
                    mvp2Features: []
                },
                {
                    id: 'epic-003',
                    number: 'Enrollment-003',
                    name: 'FileUploadIngestion',
                    description: 'Core platform capability for securely uploading, validating, and processing files',
                    journey: 'SCORE (FREE & PAID)',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - All MVP 1 & 2 features documented',
                    mvp1Features: [
                        {
                            number: 'Enrollment-003.001',
                            name: 'FileUploadManagement',
                            description: 'Secure upload with progress tracking and validation',
                            stories: 16,
                            status: 'completed',
                            notes: 'v1.1 - PHI attestation and upload flow optimization'
                        },
                        {
                            number: 'Enrollment-003.002',
                            name: 'FileStandardization',
                            description: 'AI-powered file standardization to 834 EDI format',
                            stories: 23,
                            status: 'completed',
                            notes: 'v3.0 - Documentation Standards optimization with AI field mapping'
                        },
                        {
                            number: 'Enrollment-003.003',
                            name: 'ProgressTrackingNotification',
                            description: 'Real-time progress tracking and email notifications',
                            stories: 13,
                            status: 'completed',
                            notes: 'v1.2 - Complete progress tracking with dashboard and notifications'
                        }
                    ],
                    mvp2Features: [{
                        number: 'Enrollment-003.004',
                        name: 'IdentifiedFileUpload',
                        description: 'Identified data upload with PHI handling for Fix tier',
                        stories: 11,
                        status: 'completed',
                        notes: 'v1.1 - Fix tier PHI file upload with enhanced security'
                    }]
                },
                {
                    id: 'epic-004',
                    number: 'Enrollment-004',
                    name: 'DataQualityScoring',
                    description: 'Comprehensive analysis and scoring of data quality issues',
                    journey: 'SCORE (FREE & PAID)',
                    status: 'completed',
                    notes: 'Epic v1.2 completed - Error detection and scoring dashboard',
                    mvp1Features: [{
                        number: 'Enrollment-004.001',
                        name: 'ScoringBreakdown',
                        description: 'Detailed scoring dashboard with error categorization',
                        stories: 20,
                        status: 'completed',
                        notes: 'Comprehensive dashboard with four-category error taxonomy and cost breakdown'
                    }],
                    mvp2Features: []
                },
                {
                    id: 'epic-005',
                    number: 'Enrollment-005',
                    name: 'AutomatedCorrection',
                    description: 'AI-powered automatic correction of common data quality issues',
                    journey: 'FIX (PAID)',
                    status: 'completed',
                    notes: 'Epic completed - AI correction engine foundation',
                    mvp1Features: [],
                    mvp2Features: [{
                        number: 'Enrollment-005.001',
                        name: 'CorrectionEngine',
                        description: 'AI-powered correction generation and validation',
                        stories: 15,
                        status: 'completed',
                        notes: 'AI correction engine with confidence scoring and validation'
                    }]
                },
                {
                    id: 'epic-006',
                    number: 'Enrollment-006',
                    name: 'CorrectionReviewManagement',
                    description: 'User interface for reviewing and approving AI-generated corrections',
                    journey: 'FIX (PAID)',
                    status: 'completed',
                    notes: 'Epic completed - Complete correction review workflow with toggle interface and transparency',
                    mvp1Features: [],
                    mvp2Features: [
                        {
                            number: 'Enrollment-006.001',
                            name: 'FixReviewInterface',
                            description: 'Interactive interface for reviewing and selecting corrections with toggle controls',
                            stories: 20,
                            status: 'completed',
                            notes: 'v1.1 - Complete toggle interface with Apply fix labels, error category chips, and record-level overrides'
                        },
                        {
                            number: 'Enrollment-006.002',
                            name: 'FixResults',
                            description: 'Post-correction summary with complete error transparency and download options',
                            stories: 14,
                            status: 'completed',
                            notes: 'v1.2 - Complete error breakdown cards, deselected records table, and dynamic metrics based on user selections'
                        }
                    ]
                },
                {
                    id: 'epic-007',
                    number: 'Enrollment-007',
                    name: 'ManualReviewManagement',
                    description: 'Tools for manual correction of complex data quality issues',
                    journey: 'MANAGE (PAID)',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [],
                    mvp2Features: [{
                        number: 'Enrollment-007.001',
                        name: 'ManualCorrectionInterface',
                        description: 'User interface for manual data correction and validation',
                        stories: 16,
                        status: 'not-started',
                        notes: ''
                    }]
                },
                {
                    id: 'epic-008',
                    number: 'Enrollment-008',
                    name: 'FileExportDelivery',
                    description: 'Export and delivery of corrected files in required formats',
                    journey: 'FIX & MANAGE (PAID)',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [],
                    mvp2Features: [{
                        number: 'Enrollment-008.001',
                        name: 'CorrectedFileExport',
                        description: 'Export corrected 834 EDI files and error reports',
                        stories: 8,
                        status: 'not-started',
                        notes: ''
                    }]
                },
                {
                    id: 'epic-009',
                    number: 'Enrollment-009',
                    name: 'ComplianceAuditReporting',
                    description: 'Comprehensive audit trails and compliance reporting',
                    journey: 'ALL TIERS',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [{
                        number: 'Enrollment-009.001',
                        name: 'AuditTrailGeneration',
                        description: 'Comprehensive audit trail capture and storage',
                        stories: 7,
                        status: 'not-started',
                        notes: ''
                    }],
                    mvp2Features: [{
                        number: 'Enrollment-009.002',
                        name: 'ComplianceReporting',
                        description: 'Regulatory compliance reports and documentation',
                        stories: 9,
                        status: 'not-started',
                        notes: ''
                    }]
                }
            ]);

            const updateFeatureStatus = (epicId, featureNumber, newStatus, mvpType) => {
                const updatedEpics = epics.map(epic => {
                    if (epic.id === epicId) {
                        const updateFeatures = (features) => 
                            features.map(feature => 
                                feature.number === featureNumber 
                                    ? { ...feature, status: newStatus }
                                    : feature
                            );

                        const updatedEpic = {
                            ...epic,
                            mvp1Features: mvpType === 'mvp1' ? updateFeatures(epic.mvp1Features) : epic.mvp1Features,
                            mvp2Features: mvpType === 'mvp2' ? updateFeatures(epic.mvp2Features) : epic.mvp2Features
                        };

                        // Auto-update epic status
                        const allFeatures = [...updatedEpic.mvp1Features, ...updatedEpic.mvp2Features];
                        const completedFeatures = allFeatures.filter(f => f.status === 'completed');
                        const inProgressFeatures = allFeatures.filter(f => f.status === 'in-progress');
                        
                        if (completedFeatures.length === allFeatures.length && allFeatures.length > 0) {
                            updatedEpic.status = 'completed';
                        } else if (completedFeatures.length > 0 || inProgressFeatures.length > 0) {
                            updatedEpic.status = 'in-progress';
                        } else {
                            updatedEpic.status = 'not-started';
                        }

                        return updatedEpic;
                    }
                    return epic;
                });

                setEpics(updatedEpics);
                localStorage.setItem('progress-tracker-data', JSON.stringify(updatedEpics));
            };

            const exportData = () => {
                const dataStr = JSON.stringify({ epics, exportedAt: new Date().toISOString() }, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'progress-tracker-backup.json';
                link.click();
                URL.revokeObjectURL(url);
            };

            const getStatusIcon = (status) => {
                switch(status) {
                    case 'completed':
                        return React.createElement(CheckCircle, {className: 'w-4 h-4'});
                    case 'in-progress':
                        return React.createElement(Clock, {className: 'w-4 h-4'});
                    default:
                        return React.createElement(Circle, {className: 'w-4 h-4'});
                }
            };

            const getStatusColor = (status) => {
                const colors = {
                    'completed': 'bg-green-100 text-green-800',
                    'in-progress': 'bg-blue-100 text-blue-800',
                    'not-started': 'bg-gray-100 text-gray-800'
                };
                return colors[status] || 'bg-gray-100 text-gray-800';
            };

            const handleStatusClick = (epicId, featureNumber, currentStatus, mvpType) => {
                const statuses = ['not-started', 'in-progress', 'completed'];
                const currentIndex = statuses.indexOf(currentStatus);
                const nextStatus = statuses[(currentIndex + 1) % statuses.length];
                updateFeatureStatus(epicId, featureNumber, nextStatus, mvpType);
            };

            const calculateProgress = () => {
                const allFeatures = epics.flatMap(e => [...e.mvp1Features, ...e.mvp2Features]);
                const completed = allFeatures.filter(f => f.status === 'completed').length;
                const total = allFeatures.length;
                return { completed, total, percentage: Math.round((completed / total) * 100) };
            };

            const progress = calculateProgress();

            return React.createElement('div', {className: 'max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen'},
                // Header
                React.createElement('div', {className: 'bg-white rounded-lg shadow-sm p-6 mb-6'},
                    React.createElement('div', {className: 'flex items-center justify-between mb-4'},
                        React.createElement('div', null,
                            React.createElement('h1', {className: 'text-3xl font-bold text-gray-900 mb-2'}, 'Enrollment MVP 1 & 2 Progress Tracker'),
                            React.createElement('p', {className: 'text-gray-600'}, 'Epic, Feature, and User Story mapping for MVP releases')
                        ),
                        React.createElement('button', {
                            onClick: exportData,
                            className: 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700'
                        }, 'Export Progress')
                    ),

                    // Progress Bar
                    React.createElement('div', {className: 'bg-blue-50 rounded-lg p-4'},
                        React.createElement('div', {className: 'flex items-center justify-between mb-2'},
                            React.createElement('span', {className: 'text-sm font-semibold text-gray-700'}, 'Overall Progress'),
                            React.createElement('span', {className: 'text-sm font-semibold text-blue-700'}, 
                                `${progress.completed} of ${progress.total} features completed (${progress.percentage}%)`
                            )
                        ),
                        React.createElement('div', {className: 'w-full bg-gray-200 rounded-full h-3'},
                            React.createElement('div', {
                                className: 'bg-blue-600 h-3 rounded-full transition-all duration-500',
                                style: { width: `${progress.percentage}%` }
                            })
                        )
                    )
                ),

                // Instructions
                React.createElement('div', {className: 'bg-amber-50 border-l-4 border-amber-500 p-4 mb-6 rounded'},
                    React.createElement('h3', {className: 'font-semibold text-amber-900 mb-2'}, 'How to Use:'),
                    React.createElement('ul', {className: 'list-disc list-inside text-amber-800 space-y-1 text-sm'},
                        React.createElement('li', null, 'Click any status badge to cycle through: not-started → in-progress → completed'),
                        React.createElement('li', null, 'Epic status automatically updates based on feature completion'),
                        React.createElement('li', null, 'Changes save automatically to browser storage'),
                        React.createElement('li', null, 'Use "Export Progress" to download a backup JSON file')
                    )
                ),

                // Epics List
                React.createElement('div', {className: 'space-y-4'},
                    epics.map((epic) => 
                        React.createElement('div', {key: epic.id, className: 'bg-white rounded-lg shadow-sm border'},
                            React.createElement('div', {
                                className: 'p-4 cursor-pointer hover:bg-gray-50 transition-colors',
                                onClick: () => setExpandedEpics(prev => ({...prev, [epic.id]: !prev[epic.id]}))
                            },
                                React.createElement('div', {className: 'flex items-center justify-between'},
                                    React.createElement('div', {className: 'flex items-center space-x-3'},
                                        getStatusIcon(epic.status),
                                        React.createElement('div', null,
                                            React.createElement('div', {className: 'flex items-center space-x-2'},
                                                React.createElement('h3', {className: 'text-lg font-semibold text-gray-900'}, 
                                                    `${epic.number}: ${epic.name}`
                                                ),
                                                React.createElement('span', {className: `px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(epic.status)}`},
                                                    epic.status.replace('-', ' ')
                                                )
                                            ),
                                            React.createElement('p', {className: 'text-gray-600 text-sm'}, epic.description),
                                            React.createElement('div', {className: 'flex items-center space-x-4 mt-1'},
                                                React.createElement('span', {className: 'text-xs text-gray-500'}, `Journey: ${epic.journey}`),
                                                React.createElement('span', {className: 'text-xs text-gray-500'}, 
                                                    `MVP1: ${epic.mvp1Features.length} features | MVP2: ${epic.mvp2Features.length} features`
                                                )
                                            ),
                                            epic.notes && React.createElement('p', {className: 'text-xs text-blue-600 italic mt-1'}, epic.notes)
                                        )
                                    ),
                                    React.createElement('div', {className: 'text-gray-400'}, expandedEpics[epic.id] ? '−' : '+')
                                )
                            ),

                            // Expanded Features
                            expandedEpics[epic.id] && React.createElement('div', {className: 'border-t bg-gray-50 p-4'},
                                epic.mvp1Features.length > 0 && React.createElement('div', {className: 'mb-4'},
                                    React.createElement('h4', {className: 'font-medium text-gray-900 mb-2'}, 'MVP 1 Features'),
                                    React.createElement('div', {className: 'space-y-2'},
                                        epic.mvp1Features.map((feature, index) => 
                                            React.createElement('div', {key: index, className: 'bg-white rounded border p-3'},
                                                React.createElement('div', {className: 'flex items-start justify-between'},
                                                    React.createElement('div', {className: 'flex items-start space-x-2'},
                                                        getStatusIcon(feature.status),
                                                        React.createElement('div', {className: 'flex-1'},
                                                            React.createElement('div', {className: 'flex items-center space-x-2'},
                                                                React.createElement('h5', {className: 'font-medium text-gray-900'}, feature.number),
                                                                React.createElement('button', {
                                                                    onClick: (e) => {
                                                                        e.stopPropagation();
                                                                        handleStatusClick(epic.id, feature.number, feature.status, 'mvp1');
                                                                    },
                                                                    className: `px-2 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 ${getStatusColor(feature.status)}`
                                                                }, feature.status.replace('-', ' '))
                                                            ),
                                                            React.createElement('p', {className: 'text-sm text-gray-600'}, feature.name),
                                                            React.createElement('p', {className: 'text-xs text-gray-500 mt-1'}, feature.description),
                                                            feature.notes && React.createElement('p', {className: 'text-xs text-blue-600 italic mt-1'}, feature.notes)
                                                        )
                                                    ),
                                                    React.createElement('div', {className: 'text-right text-xs text-gray-500'},
                                                        React.createElement('span', null, `Stories: ${feature.stories}`)
                                                    )
                                                )
                                            )
                                        )
                                    )
                                ),

                                epic.mvp2Features.length > 0 && React.createElement('div', null,
                                    React.createElement('h4', {className: 'font-medium text-gray-900 mb-2'}, 'MVP 2 Features'),
                                    React.createElement('div', {className: 'space-y-2'},
                                        epic.mvp2Features.map((feature, index) => 
                                            React.createElement('div', {key: index, className: 'bg-white rounded border p-3'},
                                                React.createElement('div', {className: 'flex items-start justify-between'},
                                                    React.createElement('div', {className: 'flex items-start space-x-2'},
                                                        getStatusIcon(feature.status),
                                                        React.createElement('div', {className: 'flex-1'},
                                                            React.createElement('div', {className: 'flex items-center space-x-2'},
                                                                React.createElement('h5', {className: 'font-medium text-gray-900'}, feature.number),
                                                                React.createElement('button', {
                                                                    onClick: (e) => {
                                                                        e.stopPropagation();
                                                                        handleStatusClick(epic.id, feature.number, feature.status, 'mvp2');
                                                                    },
                                                                    className: `px-2 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 ${getStatusColor(feature.status)}`
                                                                }, feature.status.replace('-', ' '))
                                                            ),
                                                            React.createElement('p', {className: 'text-sm text-gray-600'}, feature.name),
                                                            React.createElement('p', {className: 'text-xs text-gray-500 mt-1'}, feature.description),
                                                            feature.notes && React.createElement('p', {className: 'text-xs text-blue-600 italic mt-1'}, feature.notes)
                                                        )
                                                    ),
                                                    React.createElement('div', {className: 'text-right text-xs text-gray-500'},
                                                        React.createElement('span', null, `Stories: ${feature.stories}`)
                                                    )
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(ProgressTracker), document.getElementById('root'));
    </script>
</body>
</html>
