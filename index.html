<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrollment MVP Progress Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading-spinner {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { CheckCircle, Circle, Clock, AlertCircle, Edit2, Save, X, Settings, Download, Upload, RefreshCw } = lucide;

        const GitHubProgressTracker = () => {
            const [expandedEpics, setExpandedEpics] = useState({});
            const [editingFeature, setEditingFeature] = useState(null);
            const [epics, setEpics] = useState([]);
            const [loading, setLoading] = useState(true);
            const [showSettings, setShowSettings] = useState(false);
            const [syncing, setSyncing] = useState(false);
            const [syncStatus, setSyncStatus] = useState('');

            // GitHub configuration
            const [gitHubConfig, setGitHubConfig] = useState({
                token: '',
                owner: '',
                repo: '',
                filename: 'progress-data.json',
                branch: 'main'
            });

            // Default epic data structure
            const defaultEpics = [
                {
                    id: 'epic-001',
                    number: 'Enrollment-001',
                    name: 'AccountCreation',
                    description: 'Enable secure client onboarding and access management',
                    journey: 'REGISTER',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - Consolidated into single feature document',
                    mvp1Features: [
                        {
                            number: 'Enrollment-001.001',
                            name: 'GuidedOnboardingAccess',
                            description: 'Account creation, login with unique ID, organization pre-population',
                            stories: 25,
                            status: 'completed',
                            notes: 'Consolidated with 001.002 into single comprehensive feature document'
                        }
                    ],
                    mvp2Features: []
                },
                {
                    id: 'epic-002',
                    number: 'Enrollment-002',
                    name: 'AccountManagement',
                    description: 'Enable clients to manage their account data and account lifecycle',
                    journey: 'REGISTER',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - Data retention updated from 7 days to 30 days',
                    mvp1Features: [
                        {
                            number: 'Enrollment-002.001',
                            name: 'DataTransparencyRetentionPurging',
                            description: 'Account deletion, data retention (30 days), and purging compliance',
                            stories: 15,
                            status: 'completed',
                            notes: 'Updated: Data retention changed from 7 days to 30 days'
                        }
                    ],
                    mvp2Features: []
                },
                {
                    id: 'epic-003',
                    number: 'Enrollment-003',
                    name: 'FileUploadIngestion',
                    description: 'Core platform capability for securely uploading, validating, and processing files',
                    journey: 'SCORE (FREE & PAID)',
                    status: 'completed',
                    notes: 'Epic v1.3 completed - All MVP 1 & 2 features documented',
                    mvp1Features: [
                        {
                            number: 'Enrollment-003.001',
                            name: 'FileUploadManagement',
                            description: 'Secure upload with progress tracking and validation',
                            stories: 16,
                            status: 'completed',
                            notes: 'v1.1 - PHI attestation and upload flow optimization'
                        },
                        {
                            number: 'Enrollment-003.002',
                            name: 'FileStandardization',
                            description: 'AI-powered file standardization to 834 EDI format',
                            stories: 23,
                            status: 'completed',
                            notes: 'v3.0 - Documentation Standards optimization with AI field mapping'
                        },
                        {
                            number: 'Enrollment-003.003',
                            name: 'ProgressTrackingNotification',
                            description: 'Real-time progress tracking and email notifications',
                            stories: 13,
                            status: 'completed',
                            notes: 'v1.2 - Complete progress tracking with dashboard and notifications'
                        }
                    ],
                    mvp2Features: [
                        {
                            number: 'Enrollment-003.004',
                            name: 'IdentifiedFileUpload',
                            description: 'Identified data upload with PHI handling for Fix tier',
                            stories: 11,
                            status: 'completed',
                            notes: 'v1.1 - Fix tier PHI file upload with enhanced security'
                        }
                    ]
                },
                {
                    id: 'epic-004',
                    number: 'Enrollment-004',
                    name: 'DataQualityScoring',
                    description: 'Comprehensive analysis and scoring of data quality issues',
                    journey: 'SCORE (FREE & PAID)',
                    status: 'completed',
                    notes: 'Epic v1.2 completed - Error detection and scoring dashboard',
                    mvp1Features: [
                        {
                            number: 'Enrollment-004.001',
                            name: 'ScoringBreakdown',
                            description: 'Detailed scoring dashboard with error categorization',
                            stories: 20,
                            status: 'completed',
                            notes: 'Comprehensive dashboard with four-category error taxonomy and cost breakdown'
                        },
                        {
                            number: 'Enrollment-004.002',
                            name: 'CostCalculator',
                            description: 'Business cost calculation for data quality issues',
                            stories: 12,
                            status: 'completed',
                            notes: 'Complete cost impact analysis with industry benchmarks'
                        }
                    ],
                    mvp2Features: []
                },
                {
                    id: 'epic-005',
                    number: 'Enrollment-005',
                    name: 'AutomatedCorrection',
                    description: 'AI-powered automatic correction of common data quality issues',
                    journey: 'FIX (PAID)',
                    status: 'completed',
                    notes: 'Epic completed - AI correction engine foundation',
                    mvp1Features: [],
                    mvp2Features: [
                        {
                            number: 'Enrollment-005.001',
                            name: 'CorrectionEngine',
                            description: 'AI-powered correction generation and validation',
                            stories: 15,
                            status: 'completed',
                            notes: 'AI correction engine with confidence scoring and validation'
                        }
                    ]
                },
                {
                    id: 'epic-006',
                    number: 'Enrollment-006',
                    name: 'CorrectionReviewManagement',
                    description: 'User interface for reviewing and approving AI-generated corrections',
                    journey: 'FIX (PAID)',
                    status: 'completed',
                    notes: 'Epic completed - Complete correction review workflow with toggle interface and transparency',
                    mvp1Features: [],
                    mvp2Features: [
                        {
                            number: 'Enrollment-006.001',
                            name: 'FixReviewInterface',
                            description: 'Interactive interface for reviewing and selecting corrections with toggle controls',
                            stories: 20,
                            status: 'completed',
                            notes: 'v1.1 - Complete toggle interface with "Apply fix" labels, error category chips, and record-level overrides'
                        },
                        {
                            number: 'Enrollment-006.002',
                            name: 'FixResults',
                            description: 'Post-correction summary with complete error transparency and download options',
                            stories: 14,
                            status: 'completed',
                            notes: 'v1.2 - Complete error breakdown cards, deselected records table, and dynamic metrics based on user selections'
                        }
                    ]
                },
                {
                    id: 'epic-007',
                    number: 'Enrollment-007',
                    name: 'ManualReviewManagement',
                    description: 'Tools for manual correction of complex data quality issues',
                    journey: 'MANAGE (PAID)',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [],
                    mvp2Features: [
                        {
                            number: 'Enrollment-007.001',
                            name: 'ManualCorrectionInterface',
                            description: 'User interface for manual data correction and validation',
                            stories: 16,
                            status: 'not-started',
                            notes: ''
                        }
                    ]
                },
                {
                    id: 'epic-008',
                    number: 'Enrollment-008',
                    name: 'FileExportDelivery',
                    description: 'Export and delivery of corrected files in required formats',
                    journey: 'FIX & MANAGE (PAID)',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [],
                    mvp2Features: [
                        {
                            number: 'Enrollment-008.001',
                            name: 'CorrectedFileExport',
                            description: 'Export corrected 834 EDI files and error reports',
                            stories: 8,
                            status: 'not-started',
                            notes: ''
                        }
                    ]
                },
                {
                    id: 'epic-009',
                    number: 'Enrollment-009',
                    name: 'ComplianceAuditReporting',
                    description: 'Comprehensive audit trails and compliance reporting',
                    journey: 'ALL TIERS',
                    status: 'not-started',
                    notes: '',
                    mvp1Features: [
                        {
                            number: 'Enrollment-009.001',
                            name: 'AuditTrailGeneration',
                            description: 'Comprehensive audit trail capture and storage',
                            stories: 7,
                            status: 'not-started',
                            notes: ''
                        }
                    ],
                    mvp2Features: [
                        {
                            number: 'Enrollment-009.002',
                            name: 'ComplianceReporting',
                            description: 'Automated compliance reports and regulatory submissions',
                            stories: 12,
                            status: 'not-started',
                            notes: ''
                        }
                    ]
                }
            ];

            // Initialize and load data
            useEffect(() => {
                initializeData();
            }, []);

            const initializeData = async () => {
                // Load saved GitHub configuration from localStorage
                const savedConfig = localStorage.getItem('github-tracker-config');
                if (savedConfig) {
                    const config = JSON.parse(savedConfig);
                    setGitHubConfig(config);
                    
                    // Try to load data from GitHub
                    await loadFromGitHub(config);
                } else {
                    // No config, use default data
                    setEpics(defaultEpics);
                    setLoading(false);
                }
            };

            // GitHub configuration management
            const saveConfig = () => {
                localStorage.setItem('github-tracker-config', JSON.stringify(gitHubConfig));
                setSyncStatus('Configuration saved locally');
                setTimeout(() => setSyncStatus(''), 3000);
            };

            // Load data from GitHub
            const loadFromGitHub = async (config = gitHubConfig) => {
                if (!config.token || !config.owner || !config.repo) {
                    setEpics(defaultEpics);
                    setLoading(false);
                    return;
                }

                setSyncing(true);
                try {
                    const response = await fetch(
                        `https://api.github.com/repos/${config.owner}/${config.repo}/contents/${config.filename}?ref=${config.branch}`,
                        {
                            headers: {
                                'Authorization': `token ${config.token}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        }
                    );

                    if (response.ok) {
                        const data = await response.json();
                        const content = JSON.parse(atob(data.content));
                        setEpics(content.epics || defaultEpics);
                        setSyncStatus('✅ Loaded from GitHub');
                    } else if (response.status === 404) {
                        // File doesn't exist yet, use defaults and create it
                        setEpics(defaultEpics);
                        await saveToGitHub(defaultEpics, config);
                        setSyncStatus('📝 Created new progress file on GitHub');
                    } else {
                        throw new Error(`GitHub API error: ${response.status}`);
                    }
                } catch (error) {
                    console.error('Error loading from GitHub:', error);
                    setEpics(defaultEpics);
                    setSyncStatus('❌ Failed to load from GitHub');
                }
                
                setSyncing(false);
                setLoading(false);
                setTimeout(() => setSyncStatus(''), 5000);
            };

            // Save data to GitHub
            const saveToGitHub = async (epicsData = epics, config = gitHubConfig) => {
                if (!config.token || !config.owner || !config.repo) {
                    setSyncStatus('❌ GitHub configuration required');
                    setTimeout(() => setSyncStatus(''), 3000);
                    return;
                }

                setSyncing(true);
                try {
                    // First, try to get the current file SHA (required for updates)
                    let sha = null;
                    try {
                        const getResponse = await fetch(
                            `https://api.github.com/repos/${config.owner}/${config.repo}/contents/${config.filename}`,
                            {
                                headers: {
                                    'Authorization': `token ${config.token}`,
                                    'Accept': 'application/vnd.github.v3+json'
                                }
                            }
                        );
                        
                        if (getResponse.ok) {
                            const currentFile = await getResponse.json();
                            sha = currentFile.sha;
                        }
                    } catch (error) {
                        // File might not exist yet, which is fine
                    }

                    // Prepare the content
                    const content = {
                        epics: epicsData,
                        lastUpdated: new Date().toISOString(),
                        version: '1.0'
                    };

                    const body = {
                        message: `Update progress tracker - ${new Date().toISOString()}`,
                        content: btoa(JSON.stringify(content, null, 2)),
                        branch: config.branch
                    };

                    if (sha) {
                        body.sha = sha;
                    }

                    // Save to GitHub
                    const response = await fetch(
                        `https://api.github.com/repos/${config.owner}/${config.repo}/contents/${config.filename}`,
                        {
                            method: 'PUT',
                            headers: {
                                'Authorization': `token ${config.token}`,
                                'Accept': 'application/vnd.github.v3+json',
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(body)
                        }
                    );

                    if (response.ok) {
                        setSyncStatus('✅ Saved to GitHub');
                    } else {
                        const errorData = await response.json();
                        throw new Error(`GitHub save failed: ${errorData.message}`);
                    }
                } catch (error) {
                    console.error('Error saving to GitHub:', error);
                    setSyncStatus('❌ Failed to save to GitHub');
                }

                setSyncing(false);
                setTimeout(() => setSyncStatus(''), 3000);
            };

            // Calculate overall progress
            const progress = (() => {
                const allFeatures = epics.flatMap(epic => [...epic.mvp1Features, ...epic.mvp2Features]);
                const completed = allFeatures.filter(f => f.status === 'completed').length;
                const total = allFeatures.length;
                const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
                
                return { completed, total, percentage };
            })();

            // Update feature status and auto-save to GitHub
            const updateFeatureStatus = async (epicId, featureNumber, newStatus, mvpType) => {
                const updatedEpics = epics.map(epic => {
                    if (epic.id === epicId) {
                        const updatedEpic = { ...epic };
                        updatedEpic[mvpType] = epic[mvpType].map(feature => 
                            feature.number === featureNumber 
                                ? { ...feature, status: newStatus }
                                : feature
                        );
                        return updatedEpic;
                    }
                    return epic;
                });
                
                setEpics(updatedEpics);
                
                // Also save to localStorage as backup
                localStorage.setItem('progress-tracker-data', JSON.stringify(updatedEpics));
                
                // Auto-save to GitHub
                await saveToGitHub(updatedEpics);
            };

            // Update feature notes and auto-save to GitHub
            const updateFeatureNotes = async (epicId, featureNumber, newNotes, mvpType) => {
                const updatedEpics = epics.map(epic => {
                    if (epic.id === epicId) {
                        const updatedEpic = { ...epic };
                        updatedEpic[mvpType] = epic[mvpType].map(feature => 
                            feature.number === featureNumber 
                                ? { ...feature, notes: newNotes }
                                : feature
                        );
                        return updatedEpic;
                    }
                    return epic;
                });
                
                setEpics(updatedEpics);
                
                // Also save to localStorage as backup
                localStorage.setItem('progress-tracker-data', JSON.stringify(updatedEpics));
                
                // Auto-save to GitHub
                await saveToGitHub(updatedEpics);
            };

            // Export functionality
            const exportData = () => {
                const dataStr = JSON.stringify({ epics, lastUpdated: new Date().toISOString() }, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'progress-tracker-backup.json';
                link.click();
                URL.revokeObjectURL(url);
            };

            // Import functionality
            const importData = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        try {
                            const imported = JSON.parse(e.target.result);
                            if (imported.epics) {
                                setEpics(imported.epics);
                                localStorage.setItem('progress-tracker-data', JSON.stringify(imported.epics));
                                await saveToGitHub(imported.epics);
                                setSyncStatus('✅ Data imported and synced');
                                setTimeout(() => setSyncStatus(''), 3000);
                            }
                        } catch (error) {
                            setSyncStatus('❌ Invalid file format');
                            setTimeout(() => setSyncStatus(''), 3000);
                        }
                    };
                    reader.readAsText(file);
                }
                event.target.value = '';
            };

            const toggleEpicExpansion = (epicId) => {
                setExpandedEpics(prev => ({
                    ...prev,
                    [epicId]: !prev[epicId]
                }));
            };

            if (loading) {
                return React.createElement('div', {
                    className: "flex items-center justify-center min-h-screen"
                }, React.createElement('div', {
                    className: "text-center"
                }, [
                    React.createElement(RefreshCw, {
                        key: 'spinner',
                        className: "w-8 h-8 loading-spinner text-blue-600 mx-auto mb-4"
                    }),
                    React.createElement('p', {
                        key: 'text',
                        className: "text-gray-600"
                    }, "Loading progress tracker...")
                ]));
            }

            return React.createElement('div', {
                className: "max-w-6xl mx-auto p-6 bg-gray-50 min-h-screen"
            }, [
                // Header
                React.createElement('div', {
                    key: 'header',
                    className: "bg-white rounded-lg shadow-sm p-6 mb-6"
                }, [
                    React.createElement('div', {
                        key: 'header-content',
                        className: "flex items-center justify-between"
                    }, [
                        React.createElement('div', { key: 'title' }, [
                            React.createElement('h1', {
                                key: 'h1',
                                className: "text-3xl font-bold text-gray-900"
                            }, "Enrollment MVP Progress Tracker"),
                            React.createElement('p', {
                                key: 'subtitle',
                                className: "text-gray-600 mt-2"
                            }, "Real-time tracking of feature development progress with GitHub sync")
                        ]),
                        React.createElement('div', {
                            key: 'controls',
                            className: "flex items-center space-x-3"
                        }, [
                            syncStatus && React.createElement('div', {
                                key: 'status',
                                className: "px-3 py-1 text-sm rounded-full bg-blue-50 text-blue-700"
                            }, syncStatus),
                            syncing && React.createElement(RefreshCw, {
                                key: 'sync-spinner',
                                className: "w-5 h-5 loading-spinner text-blue-600"
                            }),
                            React.createElement('button', {
                                key: 'settings-btn',
                                onClick: () => setShowSettings(!showSettings),
                                className: "p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",
                                title: "Settings"
                            }, React.createElement(Settings, { className: "w-5 h-5" }))
                        ])
                    ]),

                    // GitHub Settings Panel
                    showSettings && React.createElement('div', {
                        key: 'settings',
                        className: "mt-6 p-4 bg-gray-50 rounded-lg border"
                    }, [
                        React.createElement('h3', {
                            key: 'settings-title',
                            className: "text-lg font-medium text-gray-900 mb-4"
                        }, "GitHub Configuration"),
                        React.createElement('div', {
                            key: 'settings-grid',
                            className: "grid grid-cols-1 md:grid-cols-2 gap-4"
                        }, [
                            React.createElement('div', { key: 'token-field' }, [
                                React.createElement('label', {
                                    key: 'token-label',
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Personal Access Token"),
                                React.createElement('input', {
                                    key: 'token-input',
                                    type: "password",
                                    value: gitHubConfig.token,
                                    onChange: (e) => setGitHubConfig({...gitHubConfig, token: e.target.value}),
                                    className: "w-full p-2 border rounded text-sm",
                                    placeholder: "ghp_your_token_here"
                                })
                            ]),
                            React.createElement('div', { key: 'owner-field' }, [
                                React.createElement('label', {
                                    key: 'owner-label',
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Repository Owner"),
                                React.createElement('input', {
                                    key: 'owner-input',
                                    type: "text",
                                    value: gitHubConfig.owner,
                                    onChange: (e) => setGitHubConfig({...gitHubConfig, owner: e.target.value}),
                                    className: "w-full p-2 border rounded text-sm",
                                    placeholder: "your-username"
                                })
                            ]),
                            React.createElement('div', { key: 'repo-field' }, [
                                React.createElement('label', {
                                    key: 'repo-label',
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "Repository Name"),
                                React.createElement('input', {
                                    key: 'repo-input',
                                    type: "text",
                                    value: gitHubConfig.repo,
                                    onChange: (e) => setGitHubConfig({...gitHubConfig, repo: e.target.value}),
                                    className: "w-full p-2 border rounded text-sm",
                                    placeholder: "enrollment-progress-tracker"
                                })
                            ]),
                            React.createElement('div', { key: 'filename-field' }, [
                                React.createElement('label', {
                                    key: 'filename-label',
                                    className: "block text-sm font-medium text-gray-700 mb-1"
                                }, "File Name"),
                                React.createElement('input', {
                                    key: 'filename-input',
                                    type: "text",
                                    value: gitHubConfig.filename,
                                    onChange: (e) => setGitHubConfig({...gitHubConfig, filename: e.target.value}),
                                    className: "w-full p-2 border rounded text-sm",
                                    placeholder: "progress-data.json"
                                })
                            ])
                        ]),
                        React.createElement('div', {
                            key: 'settings-buttons',
                            className: "mt-4 flex items-center space-x-2"
                        }, [
                            React.createElement('button', {
                                key: 'save-config-btn',
                                onClick: saveConfig,
                                className: "px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700"
                            }, "Save Config"),
                            React.createElement('button', {
                                key: 'load-github-btn',
                                onClick: () => loadFromGitHub(),
                                disabled: syncing,
                                className: "px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 disabled:opacity-50"
                            }, syncing ? 'Syncing...' : 'Load from GitHub'),
                            React.createElement('button', {
                                key: 'export-btn',
                                onClick: exportData,
                                className: "px-3 py-2 bg-gray-600 text-white rounded text-sm hover:bg-gray-700"
                            }, [
                                React.createElement(Download, { key: 'download-icon', className: "w-4 h-4 inline mr-1" }),
                                "Export"
                            ]),
                            React.createElement('label', {
                                key: 'import-btn',
                                className: "px-3 py-2 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 cursor-pointer"
                            }, [
                                React.createElement(Upload, { key: 'upload-icon', className: "w-4 h-4 inline mr-1" }),
                                "Import",
                                React.createElement('input', {
                                    key: 'import-input',
                                    type: "file",
                                    accept: ".json",
                                    onChange: importData,
                                    className: "hidden"
                                })
                            ])
                        ])
                    ]),

                    // Overall Progress
                    React.createElement('div', {
                        key: 'progress',
                        className: "bg-blue-50 rounded-lg p-4 mt-6"
                    }, [
                        React.createElement('div', {
                            key: 'progress-header',
                            className: "flex items-center justify-between mb-2"
                        }, [
                            React.createElement('span', {
                                key: 'progress-label',
                                className: "text-sm font-semibold text-gray-700"
                            }, "Overall Progress"),
                            React.createElement('span', {
                                key: 'progress-text',
                                className: "text-sm font-semibold text-blue-700"
                            }, `${progress.completed} of ${progress.total} features completed (${progress.percentage}%)`)
                        ]),
                        React.createElement('div', {
                            key: 'progress-bar-bg',
                            className: "w-full bg-gray-200 rounded-full h-3"
                        }, React.createElement('div', {
                            key: 'progress-bar',
                            className: "bg-blue-600 h-3 rounded-full transition-all duration-300",
                            style: { width: `${progress.percentage}%` }
                        }))
                    ])
                ]),

                // Epic Cards
                React.createElement('div', {
                    key: 'epics',
                    className: "space-y-4"
                }, epics.map((epic) => React.createElement(EpicCard, {
                    key: epic.id,
                    epic,
                    expanded: expandedEpics[epic.id],
                    onToggle: () => toggleEpicExpansion(epic.id),
                    onStatusUpdate: updateFeatureStatus,
                    onNotesUpdate: updateFeatureNotes,
                    editingFeature,
                    setEditingFeature
                }))),

                // Summary Statistics
                React.createElement('div', {
                    key: 'summary',
                    className: "mt-6 bg-white rounded-lg shadow-sm p-6"
                }, [
                    React.createElement('h2', {
                        key: 'summary-title',
                        className: "text-xl font-semibold text-gray-900 mb-4"
                    }, "Summary"),
                    React.createElement('div', {
                        key: 'summary-grid-1',
                        className: "grid grid-cols-1 md:grid-cols-4 gap-4"
                    }, [
                        React.createElement('div', {
                            key: 'total-epics',
                            className: "bg-gray-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'epic-count',
                                className: "text-2xl font-bold text-gray-900"
                            }, "9"),
                            React.createElement('div', {
                                key: 'epic-label',
                                className: "text-sm text-gray-600"
                            }, "Total Epics")
                        ]),
                        React.createElement('div', {
                            key: 'mvp1-features',
                            className: "bg-green-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'mvp1-count',
                                className: "text-2xl font-bold text-green-700"
                            }, epics.flatMap(e => e.mvp1Features).length),
                            React.createElement('div', {
                                key: 'mvp1-label',
                                className: "text-sm text-gray-600"
                            }, "MVP 1 Features")
                        ]),
                        React.createElement('div', {
                            key: 'mvp2-features',
                            className: "bg-blue-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'mvp2-count',
                                className: "text-2xl font-bold text-blue-700"
                            }, epics.flatMap(e => e.mvp2Features).length),
                            React.createElement('div', {
                                key: 'mvp2-label',
                                className: "text-sm text-gray-600"
                            }, "MVP 2 Features")
                        ]),
                        React.createElement('div', {
                            key: 'total-features',
                            className: "bg-purple-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'total-count',
                                className: "text-2xl font-bold text-purple-700"
                            }, epics.flatMap(e => [...e.mvp1Features, ...e.mvp2Features]).length),
                            React.createElement('div', {
                                key: 'total-label',
                                className: "text-sm text-gray-600"
                            }, "Total Features")
                        ])
                    ]),
                    React.createElement('div', {
                        key: 'summary-grid-2',
                        className: "mt-4 grid grid-cols-1 md:grid-cols-3 gap-4"
                    }, [
                        React.createElement('div', {
                            key: 'completed-epics',
                            className: "bg-green-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'completed-epic-count',
                                className: "text-2xl font-bold text-green-700"
                            }, epics.filter(e => e.status === 'completed').length),
                            React.createElement('div', {
                                key: 'completed-epic-label',
                                className: "text-sm text-gray-600"
                            }, "Epics Completed")
                        ]),
                        React.createElement('div', {
                            key: 'completed-features',
                            className: "bg-blue-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'completed-feature-count',
                                className: "text-2xl font-bold text-blue-700"
                            }, progress.completed),
                            React.createElement('div', {
                                key: 'completed-feature-label',
                                className: "text-sm text-gray-600"
                            }, "Features Completed")
                        ]),
                        React.createElement('div', {
                            key: 'total-stories',
                            className: "bg-purple-50 rounded-lg p-4"
                        }, [
                            React.createElement('div', {
                                key: 'story-count',
                                className: "text-2xl font-bold text-purple-700"
                            }, epics.flatMap(e => [...e.mvp1Features, ...e.mvp2Features])
                                .filter(f => f.status === 'completed')
                                .reduce((sum, f) => sum + f.stories, 0)),
                            React.createElement('div', {
                                key: 'story-label',
                                className: "text-sm text-gray-600"
                            }, "Total Stories (Completed)")
                        ])
                    ])
                ]),

                // Footer
                React.createElement('div', {
                    key: 'footer',
                    className: "mt-6 text-center text-sm text-gray-500"
                }, [
                    React.createElement('p', {
                        key: 'last-updated'
                    }, `Last Updated: ${new Date().toLocaleDateString()}`),
                    React.createElement('p', {
                        key: 'status',
                        className: "mt-1"
                    }, "Document Status: Live GitHub-Synced Tracker"),
                    React.createElement('p', {
                        key: 'auto-save',
                        className: "mt-1"
                    }, "💾 All changes automatically saved to GitHub")
                ])
            ]);
        };

        // Epic Card Component
        const EpicCard = ({ epic, expanded, onToggle, onStatusUpdate, onNotesUpdate, editingFeature, setEditingFeature }) => {
            return React.createElement('div', {
                className: "bg-white rounded-lg shadow-sm border"
            }, [
                React.createElement('div', {
                    key: 'epic-header',
                    className: "p-4 cursor-pointer hover:bg-gray-50 transition-colors",
                    onClick: onToggle
                }, [
                    React.createElement('div', {
                        key: 'epic-content',
                        className: "flex items-center justify-between"
                    }, [
                        React.createElement('div', {
                            key: 'epic-info',
                            className: "flex items-center space-x-3"
                        }, [
                            React.createElement('div', {
                                key: 'status-dot',
                                className: `w-3 h-3 rounded-full ${
                                    epic.status === 'completed' ? 'bg-green-500' :
                                    epic.status === 'in-progress' ? 'bg-blue-500' : 'bg-gray-400'
                                }`
                            }),
                            React.createElement('div', { key: 'epic-details' }, [
                                React.createElement('h3', {
                                    key: 'epic-title',
                                    className: "text-lg font-semibold text-gray-900"
                                }, `${epic.number} - ${epic.name}`),
                                React.createElement('p', {
                                    key: 'epic-desc',
                                    className: "text-gray-600 text-sm"
                                }, epic.description),
                                React.createElement('div', {
                                    key: 'epic-tags',
                                    className: "flex items-center space-x-4 mt-1"
                                }, [
                                    React.createElement('span', {
                                        key: 'journey-tag',
                                        className: "text-xs text-blue-600 font-medium"
                                    }, epic.journey),
                                    React.createElement('span', {
                                        key: 'status-tag',
                                        className: `text-xs px-2 py-1 rounded-full ${
                                            epic.status === 'completed' ? 'bg-green-100 text-green-800' :
                                            epic.status === 'in-progress' ? 'bg-blue-100 text-blue-800' :
                                            'bg-gray-100 text-gray-800'
                                        }`
                                    }, epic.status.replace('-', ' '))
                                ])
                            ])
                        ]),
                        React.createElement('div', {
                            key: 'epic-stats',
                            className: "text-right"
                        }, [
                            React.createElement('div', {
                                key: 'feature-counts',
                                className: "text-sm text-gray-500"
                            }, `MVP1: ${epic.mvp1Features.length} • MVP2: ${epic.mvp2Features.length}`),
                            React.createElement('div', {
                                key: 'expand-hint',
                                className: "text-xs text-gray-400 mt-1"
                            }, `${expanded ? '▼' : '▶'} Click to expand`)
                        ])
                    ]),
                    epic.notes && React.createElement('div', {
                        key: 'epic-notes',
                        className: "mt-2 text-sm text-blue-600 italic"
                    }, epic.notes)
                ]),

                expanded && React.createElement('div', {
                    key: 'epic-features',
                    className: "px-4 pb-4 border-t border-gray-100"
                }, [
                    epic.mvp1Features.length > 0 && React.createElement('div', {
                        key: 'mvp1-section',
                        className: "mb-4"
                    }, [
                        React.createElement('h4', {
                            key: 'mvp1-title',
                            className: "font-medium text-gray-900 mb-2 mt-3"
                        }, "MVP 1 Features"),
                        React.createElement('div', {
                            key: 'mvp1-features',
                            className: "space-y-2"
                        }, epic.mvp1Features.map((feature, index) => 
                            React.createElement(FeatureCard, {
                                key: index,
                                feature,
                                epicId: epic.id,
                                mvpType: "mvp1Features",
                                onStatusUpdate,
                                onNotesUpdate,
                                editingFeature,
                                setEditingFeature
                            })
                        ))
                    ]),

                    epic.mvp2Features.length > 0 && React.createElement('div', {
                        key: 'mvp2-section'
                    }, [
                        React.createElement('h4', {
                            key: 'mvp2-title',
                            className: "font-medium text-gray-900 mb-2"
                        }, "MVP 2 Features"),
                        React.createElement('div', {
                            key: 'mvp2-features',
                            className: "space-y-2"
                        }, epic.mvp2Features.map((feature, index) => 
                            React.createElement(FeatureCard, {
                                key: index,
                                feature,
                                epicId: epic.id,
                                mvpType: "mvp2Features",
                                onStatusUpdate,
                                onNotesUpdate,
                                editingFeature,
                                setEditingFeature
                            })
                        ))
                    ])
                ])
            ]);
        };

        // Feature Card Component with inline editing
        const FeatureCard = ({ 
            feature, 
            epicId, 
            mvpType, 
            onStatusUpdate, 
            onNotesUpdate, 
            editingFeature, 
            setEditingFeature 
        }) => {
            const [tempNotes, setTempNotes] = useState(feature.notes);
            
            const getStatusIcon = (status) => {
                switch(status) {
                    case 'completed':
                        return React.createElement(CheckCircle, { className: "w-5 h-5 text-green-600" });
                    case 'in-progress':
                        return React.createElement(Clock, { className: "w-5 h-5 text-blue-600" });
                    case 'not-started':
                        return React.createElement(Circle, { className: "w-5 h-5 text-gray-400" });
                    default:
                        return React.createElement(AlertCircle, { className: "w-5 h-5 text-yellow-600" });
                }
            };

            const getStatusColor = (status) => {
                const colors = {
                    'completed': 'bg-green-100 text-green-800',
                    'in-progress': 'bg-blue-100 text-blue-800',
                    'not-started': 'bg-gray-100 text-gray-800'
                };
                return colors[status] || 'bg-gray-100 text-gray-800';
            };

            const handleStatusClick = (e) => {
                e.stopPropagation();
                const statuses = ['not-started', 'in-progress', 'completed'];
                const currentIndex = statuses.indexOf(feature.status);
                const nextStatus = statuses[(currentIndex + 1) % statuses.length];
                onStatusUpdate(epicId, feature.number, nextStatus, mvpType);
            };

            const handleEditNotes = (e) => {
                e.stopPropagation();
                setEditingFeature(feature.number);
                setTempNotes(feature.notes);
            };

            const handleSaveNotes = (e) => {
                e.stopPropagation();
                onNotesUpdate(epicId, feature.number, tempNotes, mvpType);
                setEditingFeature(null);
            };

            const handleCancelEdit = (e) => {
                e.stopPropagation();
                setTempNotes(feature.notes);
                setEditingFeature(null);
            };

            const isEditing = editingFeature === feature.number;

            return React.createElement('div', {
                className: "bg-white rounded border p-3"
            }, [
                React.createElement('div', {
                    key: 'feature-header',
                    className: "flex items-start justify-between"
                }, [
                    React.createElement('div', {
                        key: 'feature-main',
                        className: "flex items-start space-x-2"
                    }, [
                        getStatusIcon(feature.status),
                        React.createElement('div', {
                            key: 'feature-details',
                            className: "flex-1"
                        }, [
                            React.createElement('div', {
                                key: 'feature-title-row',
                                className: "flex items-center space-x-2"
                            }, [
                                React.createElement('h5', {
                                    key: 'feature-number',
                                    className: "font-medium text-gray-900"
                                }, feature.number),
                                React.createElement('button', {
                                    key: 'status-button',
                                    onClick: handleStatusClick,
                                    className: `px-2 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 ${getStatusColor(feature.status)}`
                                }, feature.status.replace('-', ' '))
                            ]),
                            React.createElement('p', {
                                key: 'feature-name',
                                className: "text-sm text-gray-600"
                            }, feature.name),
                            React.createElement('p', {
                                key: 'feature-desc',
                                className: "text-xs text-gray-500 mt-1"
                            }, feature.description)
                        ])
                    ]),
                    React.createElement('div', {
                        key: 'feature-stories',
                        className: "text-right text-xs text-gray-500"
                    }, React.createElement('span', {}, `Stories: ${feature.stories}`))
                ]),
                
                // Notes Section
                React.createElement('div', {
                    key: 'notes-section',
                    className: "mt-2"
                }, isEditing ? 
                    React.createElement('div', {
                        className: "flex items-start space-x-2"
                    }, [
                        React.createElement('textarea', {
                            key: 'notes-textarea',
                            value: tempNotes,
                            onChange: (e) => setTempNotes(e.target.value),
                            onClick: (e) => e.stopPropagation(),
                            className: "flex-1 text-xs p-2 border rounded resize-none",
                            rows: "2",
                            placeholder: "Add notes..."
                        }),
                        React.createElement('div', {
                            key: 'notes-buttons',
                            className: "flex flex-col space-y-1"
                        }, [
                            React.createElement('button', {
                                key: 'save-btn',
                                onClick: handleSaveNotes,
                                className: "p-1 text-green-600 hover:bg-green-50 rounded",
                                title: "Save"
                            }, React.createElement(Save, { className: "w-3 h-3" })),
                            React.createElement('button', {
                                key: 'cancel-btn',
                                onClick: handleCancelEdit,
                                className: "p-1 text-gray-600 hover:bg-gray-50 rounded",
                                title: "Cancel"
                            }, React.createElement(X, { className: "w-3 h-3" }))
                        ])
                    ]) :
                    React.createElement('div', {
                        className: "flex items-start justify-between"
                    }, [
                        feature.notes ? 
                            React.createElement('p', {
                                key: 'notes-text',
                                className: "text-xs text-blue-600 italic flex-1"
                            }, feature.notes) :
                            React.createElement('p', {
                                key: 'no-notes',
                                className: "text-xs text-gray-400 italic flex-1"
                            }, "No notes"),
                        React.createElement('button', {
                            key: 'edit-btn',
                            onClick: handleEditNotes,
                            className: "ml-2 p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded",
                            title: "Edit notes"
                        }, React.createElement(Edit2, { className: "w-3 h-3" }))
                    ])
                )
            ]);
        };

        // Render the app
        ReactDOM.render(React.createElement(GitHubProgressTracker), document.getElementById('root'));
    </script>
</body>
</html>
